##############################################################################
#                                                                            #
#            Makefile for compiling Operating Systems Project                #
#                                                                            #
##############################################################################

#
# Macros for directories
#

# Directory for *.c and *.h files
SRC_DIR  = $(HOME_DIR)/src

# Directory for *.o files
LIB_DIR  = $(HOME_DIR)/lib.$(ARCH)

# Directory for OSP
TARGET_DIR  = $(HOME_DIR)/demo

# Compiler
C_COMP = cc



#
# Make OSP
#

$(TARGET_DIR)/OSP.demo.$(ARCH) : $(LIB_DIR)/cpu.o $(LIB_DIR)/devices.o $(LIB_DIR)/devint.o $(LIB_DIR)/dialog.o $(LIB_DIR)/files.o $(LIB_DIR)/inter.o $(LIB_DIR)/iosvc.o $(LIB_DIR)/mask.o $(LIB_DIR)/memory.o $(LIB_DIR)/resources.o $(LIB_DIR)/pageint.o $(LIB_DIR)/procsvc.o $(LIB_DIR)/simcore.o $(LIB_DIR)/timeint.o $(LIB_DIR)/random.o $(LIB_DIR)/sockets.o $(LIB_DIR)/protocols.o
	$(C_COMP) $(LIB_DIR)/cpu.o $(LIB_DIR)/devices.o $(LIB_DIR)/devint.o $(LIB_DIR)/dialog.o $(LIB_DIR)/files.o $(LIB_DIR)/inter.o $(LIB_DIR)/iosvc.o $(LIB_DIR)/mask.o $(LIB_DIR)/memory.o $(LIB_DIR)/resources.o $(LIB_DIR)/pageint.o $(LIB_DIR)/procsvc.o $(LIB_DIR)/simcore.o $(LIB_DIR)/timeint.o $(LIB_DIR)/random.o $(LIB_DIR)/sockets.o $(LIB_DIR)/protocols.o -lm $(DEBUG) -o $(TARGET_DIR)/OSP.demo.$(ARCH)


$(LIB_DIR)/mask.o : $(SRC_DIR)/mask.c $(SRC_DIR)/mask.h
	$(C_COMP) $(SRC_DIR)/mask.c -c $(DEBUG)
